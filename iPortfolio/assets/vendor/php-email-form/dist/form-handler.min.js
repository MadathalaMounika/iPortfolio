"use strict";document.addEventListener("DOMContentLoaded",function(){function c(t,r,e){fetch(r,{method:"POST",body:e,headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(e){if(e.ok)return e.json();throw new Error("".concat(e.status," ").concat(e.statusText," ").concat(e.url))}).then(function(e){if(t.querySelector(".loading").classList.remove("d-block"),!e.success)throw new Error(e.error?e.error:"Form submission failed and no error message returned from: "+r);t.querySelector(".sent-message").classList.add("d-block"),t.reset()}).catch(function(e){a(t,e)})}function a(e,t){e.querySelector(".loading").classList.remove("d-block"),e.querySelector(".error-message").innerHTML=t.message,e.querySelector(".error-message").classList.add("d-block")}document.querySelectorAll(".php-email-form").forEach(function(e){e.addEventListener("submit",function(e){e.preventDefault();var t=this,r=t.getAttribute("action"),o=t.getAttribute("data-recaptcha-site-key");if(r){t.querySelector(".loading").classList.add("d-block"),t.querySelector(".error-message").classList.remove("d-block"),t.querySelector(".sent-message").classList.remove("d-block");var s=new FormData(t);o?"undefined"!=typeof grecaptcha?grecaptcha.ready(function(){try{grecaptcha.execute(o,{action:"php_email_form_submit"}).then(function(e){s.set("recaptcha-response",e),c(t,r,s)})}catch(e){a(t,e)}}):a(t,"The reCaptcha javascript API url is not loaded!"):c(t,r,s)}else a(t,"The form action property is not set!")})})});
//# sourceMappingURL=form-handler.min.js.map
